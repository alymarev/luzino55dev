function checkForm(t){for(var n=$(t).find("[data-type]"),a="",e=0;e<n.length;e++)a+=checkElement(n.get(e));if(""==a){var r=$(t).find(["data-tconfirm"]).attr("data-tconfirm");return r?confirm(r):!0}return alert(a),!1}function checkElement(t){var n=$(t).attr("data-type"),a=$(t).attr("data-minlen"),e=$(t).attr("data-maxlen"),r=$(t).attr("data-tminlen"),c=$(t).attr("data-tmaxlen"),l=$(t).attr("data-tempty"),i=$(t).attr("data-ttype"),u=$(t).attr("data-fequal"),o=$(t).attr("data-tequal"),h="";return""==n?(h+=checkTextInput($(t).val(),a,e,l,r,c),h+=checkEqual($(t),u,o)):"name"==n?h+=checkName($(t).val(),e,l,i,c):"login"==n?h+=checkLogin($(t).val(),e,l,i,c):"email"==n&&(h+=checkEmail($(t).val(),e,l,i,c)),h}function checkTextInput(t,n,a,e,r,c){return 0==t.length?e+"\n":t.length<n?r+"\n":a&&t.length>a?c+"\n":""}function checkName(t,n,a,e,r){return 0==t.length?a+"\n":isContainQuotes(t)?e+"\n":n&&t.length>n?r+"\n":""}function checkLogin(t,n,a,e,r){return 0==t.length?a+"\n":isContainQuotes(t)?e+"\n":n&&t.length>n?r+"\n":""}function checkEmail(t,n,a,e,r){return 0==t.length?a+"\n":null==t.match(/^[a-z0-9_][a-z0-9\._-]*@([a-z0-9]+([a-z0-9-]*[a-z0-9]+)*\.)+[a-z]+$/i)?e+"\n":n&&t.length>n?r+"\n":""}function isContainQuotes(t){for(var n=['"',"'","`","&quot;","&apos;"],a=0;a<n.length;a++)if(-1!==t.indexOf(n[a]))return!0;return!1}function checkEqual(t,n,a){if(""==n)return"";var e=$(t).parents("form"),r=$(e).find("[name='"+n+"']");return t.val()!=r.val()?a+"\n":""}
